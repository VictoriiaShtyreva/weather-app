(()=>{"use strict";!function(e){let t=new Image;t.onload=t.onerror=function(){t.height,document.documentElement.classList.add("webp")},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}();let e={API_KEY:"e17c8945b42b35554ede399a2b9912dd",fetchWeather:function(e){fetch("https://api.openweathermap.org/data/2.5/weather?q="+e+"&units=metric&appid="+this.API_KEY).then((e=>{if(!e.ok)throw alert("No weather found."),new Error("No weather found.");return e.json()})).then((e=>this.displayWeather(e)))},displayWeather:function(e){const{name:t}=e,{icon:n,description:r}=e.weather[0],{temp:o,humidity:c}=e.main,{speed:i}=e.wind;document.querySelector(".city").innerText="Weather in "+t,document.querySelector(".icon").src="https://openweathermap.org/img/wn/"+n+".png",document.querySelector(".description").innerText=r,document.querySelector(".temp").innerText=Math.round(o)+"Â°C",document.querySelector(".humidity").innerText="Humidity: "+c+"%",document.querySelector(".wind").innerText="Wind speed: "+i+" km/h",document.querySelector(".weather").classList.remove("loading"),document.body.style.backgroundImage="url('https://source.unsplash.com/1600x900/?"+t+")"},search:function(){this.fetchWeather(document.querySelector(".search-bar").value)}};document.querySelector(".search button").addEventListener("click",(function(){e.search()})),document.querySelector(".search-bar").addEventListener("keyup",(function(t){"Enter"==t.key&&e.search()})),e.fetchWeather("Helsinki")})();